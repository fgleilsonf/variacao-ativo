<h1>{{ ativo }}</h1>

<mat-tab-group>
  <mat-tab label="Tabela">
    <mat-table *ngIf="variances.length > 0" [dataSource]="variances"
               class="mat-elevation-z8">
      <!-- Dia -->
      <ng-container matColumnDef="day">
        <mat-header-cell *matHeaderCellDef> Dia</mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.day + 1 }} </mat-cell>
      </ng-container>

      <!-- Data -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Data</mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.date | date : 'dd/MM/YYYY hh:mm' }} </mat-cell>
      </ng-container>

      <!-- Valor -->
      <ng-container matColumnDef="price">
        <mat-header-cell *matHeaderCellDef> Valor</mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.price | currency : 'BRL' }} </mat-cell>
      </ng-container>

      <!-- D-1 -->
  <ng-container matColumnDef="variationDMinusOne">
    <mat-header-cell *matHeaderCellDef> Variação em relaçào a D-1</mat-header-cell>
    <mat-cell *matCellDef="let row"> {{ row.id == 1 ? '-' : row.variationDMinusOne | percent: '1.2-2' }}</mat-cell>
  </ng-container>

      <!-- firstDateVariation -->
      <ng-container matColumnDef="firstDateVariation">
        <mat-header-cell *matHeaderCellDef> Variação em relação a primeira data</mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.id == 1 ? '-' : row.firstDateVariation | percent: '1.2-2' }} </mat-cell>
      </ng-container>

      <!-- Header and Row Declarations -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"
      ></mat-row>
    </mat-table>

    <div *ngIf="variances.length === 0">
      Não há registros para exibir no momento!
    </div>
  </mat-tab>
  <mat-tab label="Gráfico">
    <app-line-chart [data]="variances"></app-line-chart>
  </mat-tab>
</mat-tab-group>
